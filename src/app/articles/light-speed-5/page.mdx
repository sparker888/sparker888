import { ArticleLayout } from '@/components/ArticleLayout'
import Image from 'next/image'
import storyBanner from './light-speed-series-hero-5.png'

export const article = {
  author: 'Stephen Parker',
  date: '2025-02-21',
  title: 'Light. Speed. ✨: In Action',
  description:
    'See how I created a landing page with perfect Google Lighthouse scores in under 100 hours. Check out my new Gravital Digital landing page with AI images and video built on the Astro platform and the new Tailwindcss 4.x',
}

export const metadata = {
  title: article.title,
  description: article.description,
}

export default (props) => <ArticleLayout article={article} {...props} />

<Image src={storyBanner} alt="Light. Speed.✨: In Action" />

## Light. Speed.✨: In Action

Welcome to the fifth installment of my **Light. Speed. Series!** In the [previous article](https://sparker888.com/articles/light-speed-4), we explored Astro—a framework known for simplicity and performance—as a perfect marketing site build tool that fits neatly inside Jamstack architecture. Now with the launch of Astro 5, development is even more streamlined, with updated features that make building high-performance sites easier than ever. On top of that, Tailwind just launched their new version 4. Let's check out how I redesigned my Gravital Digital landing page with them!

### In need of an update, I rebuilt the [Gravital Digital](https://gravitaldigital.com/) landing page to harness:

**Astro’s version 5**—with partial hydration and server-side rendering improvements, perfect for high performance sites.

**Tailwind CSS version 4**—bundled with Astro 5 by default, featuring updated utilities and color palettes, perfect for modern styling and clean, maintainable codebases.

**Optimized AI videos** for inexpensive website visuals (originally generated with Sora and Kling AI 1.6), and compressed via HandBrake to keep page load times as low as possible.

**Multiple TailwindUI composable components** that include both card background images and standard images handled by Astro’s `<Image>` pipeline for on-the-fly optimization of assets for top performance scores.

**AStro Islands** Load React only where needed, e.g., Headless UI dialogs with client:load.

**Plausible Analytics**—no cookies, no GDPR headaches, and minimal overhead. I've set up automated traffic and campaign data reporting to my inbox weekly.

These tools and the latest technology came together to build a new Gravital Digital site that has perfect 100s in Google Lighthouse—Performance, Accessibility, Best Practices, and SEO.

<Image src={require('./01-gravital-landing-home.png')} alt="Light. Speed. AI video in the hero section" />

---

## 1. Astro keeps improving with 5

Astro prides itself on bridging SSR (server-side rendering) capabilities with a Jamstack approach—where static files can be quickly deployed on CDNs. 

In Astro 5.x, you get:

- **Improved Partial Hydration**—send minimal JavaScript to the browser, so pages remain lightweight.
- **Better Developer Experience**—fewer configuration hurdles, modern CLI-based tool, and tight integration with UI libraries.
- **Jamstack Ready**—still ideal for building high-performance content-focused sites that deploy anywhere via CDN with minimal friction and ability to scale quickly.

All this keeps your site zippy, especially important for a marketing page or online brand presence. Astro is the platform that helped me get perfect Google Lighthouse scores!

<Image src={require('./02-astro-5.png')} alt="Astro 5 is the latest major update from the platform" />

---

## 2. A Huge Tailwind CSS 4 Update

Since Astro 5 now includes a Tailwind integration by default, you don’t need extra steps for installation.

With Tailwind 4.x, you get:

- **Enhanced Color Palette**—fresh gradient utilities and color stops used in the card backgrounds.
- **Faster Compile Times**—less waiting, faster building.
- **Utility Class Improvements**—like improved container queries and better layout classes.

Together, Astro’s partial hydration plus Tailwind’s minimal overhead let us produce polished, modern layouts without bloat.

<Image src={require('./03-tailwind-4.png')} alt="Astro 5 is the latest major update from the platform" />

---

## 3. AI-generated video headline “Light. Speed.”

For the headline graphic, I created a dynamic text effect for my “Light. Speed.” brand tagline. After using several standard image-to-video AI generators, I found that the best results for animated text came from OpenAIs Sora. The raw output was a hefty MP4 though as you have limited controls for size. So, I used HandBrake to reduce bitrate, resulting in a file of 578KB. I could probably go smaller, but I didn't want to stomp the quality into the ground.

Placed in the hero area via Astro:
```html
<video
src=”/videos/light-speed.mp4”
autoplay
loop
muted
playsinline
preload=“auto”
poster=”/videos/light-speed-poster.jpeg”>
</video>
```
It’s compact, visually engaging, and crucial for that 100 in Lighthouse Performance. Note that this was further optimized later with multiple size videos. I did try to generate smaller .webm videos, but they ended up the same size as the MP4 variety, so I just eliminated them. MP4 (H.264) alone is sufficient for the vast majority of modern browsers and devices.

<Image src={require('./04-light-speed-hero.png')} alt="Light. Speed. AI video in the hero section" />

## 4. Saving time with Tailwind UI templates and Optimizing Media

TailwindUI has a set of HTML, React, and Vue pre-built components and snippets that are battle-tested for responsive behavior across a large number of devices. This is the main reason for the project being kept under 100 hours—it saves countless hours of testing and tweaking code across numerous devices.

After copying UI template code into our components, I then heavily customized them for content and some styling to keep to corporate styles, colors, and fonts. Tailwindcss updated their UI library recently with the launch of version 4, and I particularly love the new bento boxes. So I used them! As an example—for the Reliability, Speed, and Flexibility boxes—I chose to show a short looped MP4 video with a .webp image fallback for the poster image:
```html
---
import { Image } from 'astro:assets';
import tvBkgndTall from '../assets/tv-bkgnd-tall-1280.webp';
---

<div class="relative overflow-hidden">
  <Image
    src={tvBkgndTall}
    alt="AI background image"
    class="absolute inset-0 object-cover w-full h-full"
    loading="eager"
  />
  <video
    src="/videos/reliability.mp4"
    class="absolute top-[20%] left-[12%] w-[80%] h-[25%]"
    autoplay
    loop
    muted
    playsinline
    preload="auto"
    poster="/videos/reliability-poster.jpeg"
  />
</div>
```
Note that we’re using Astro’s `<Image>` for the background graphics and give them the loading="eager" config so that this first component on the website will load quickly. Astro optimizes .webp automatically, producing a small, efficient file with no user intervention.

<Image src={require('./05-cta-video-section.png')} alt="A picture of different versions of the Light. Speed. AI-rendered video" />

## 5. Integrating Fontsource Custom Fonts

Another new addition to this landing page is Fontsource, which simplifies installing and loading fonts directly from npm. Here’s a quick example of how I configured the project to use the Overpass Black (900) weight:

**a. Install the Fontsource Package**

`npm install @fontsource/overpass`

This gives us all weights for Overpass, but we only need the 900 weight for our bold titles.

**b. Import the Desired Weight**

In our global CSS file, we added:
```html
@import "tailwindcss";
@import "@fontsource/overpass/900.css";

@theme {
  --font-overpass: 'Overpass', 'sans-serif';
}
```
This single import includes the “Overpass 900” font file. If you want multiple weights (400, 700, etc.), just import each (@fontsource/overpass/400.css, etc.).

**c. Import in Layout for Reliability (Optional?)**

In my case, the bundler couldn’t properly resolve the font files, so I was required to import the same Fontsource line inside my main Layout.astro file to get it to work properly. Depending on your setup, you might only need it once in global.css. But if that fails, also importing it in the layout ensures the @font-face rules are definitely included site-wide:
```
---
import '@fontsource/overpass/900.css';
---
<html> … </html>
```
**d. Use the Custom Font**

In our Tailwind config, we mapped an alias to that variable:
```html
// tailwind.config.js
theme: {
  fontFamily: {
    overpass: 'var(--font-overpass)',
  },
  // ...
}
```
Now any element with class="font-overpass" or a custom utility referencing font-overpass picks up the Overpass Black weight.

Note: We don’t necessarily need Fontsource integrated into Tailwind. Just importing the .css in global.css (and optionally in the layout) is enough for Overpass to load at build time. Tailwind then references the font name or a CSS variable the same as any locally hosted font.

This straightforward approach ensures Overpass 900 is loaded and recognized on the final page—without manually creating @font-face rules or copying font files. We just pick the weight we want (900.css), import it, and let Fontsource handle the rest!

<Image src={require('./06-fontsource.png')} alt="Astro’s  usage for security illustration" />

## 6. Using Astro Islands to Inject React

Astro’s Partial Hydration (“Islands”) lets you pick where React (or any other framework) is mounted, while still generating static HTML for everything else. In this project, we use Headless UI to create slick dialog popups for more details about our projects, embedded as React components. The snippet below shows how we define our `<ProjectsSection>` in React, and then inject it with client:load in Astro for truly dynamic behavior only where needed.
```html
<!-- Astro index page: -->
---
import Projects from '../components/Projects.jsx';
---

<!-- This injects the React component on the client side -->
<Projects client:load />
```
And here’s the Projects.jsx file:
```html
import React, { Fragment, useState } from 'react';
import { Dialog, Transition } from '@headlessui/react';

export default function ProjectsSection() {
  const pageTitle = 'Projects';
  const pageSubtitle = "I'm very fortunate to work on some fantastic projects with my clients.";
  
  // Hardcoded data (or wire up a CMS later if you like)
  const projects = [
    /* ...your project objects... */
  ];
  
  const [openIndex, setOpenIndex] = useState(null);

  function openModal(i) { setOpenIndex(i); }
  function closeModal() { setOpenIndex(null); }

  function handleWebsiteLink(link) {
    if (link && link !== '#') {
      window.open(link, '_blank');
    }
  }

  return (
    <div className="py-8 sm:py-0" id="projects">
      {/* Title & Subtitle */}
      <div className="px-6 mx-auto max-w-7xl lg:px-8">
        <div className="max-w-2xl mx-auto lg:mx-0">
          <h2 className="text-4xl tracking-tight font-overpass text-amber-600 sm:text-5xl">
            {pageTitle}
          </h2>
          <p className="mt-6 text-gray-200 text-lg/8">{pageSubtitle}</p>
        </div>

        {/* Projects Grid */}
        <ul
          role="list"
          className="grid max-w-2xl grid-cols-1 mx-auto mt-20 gap-x-8 gap-y-16
                     sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"
        >
          {projects.map((project, i) => (
            <li key={i}>
              <img
                className="object-cover w-full aspect-3/2 rounded-2xl"
                src={project.thumbnail}
                alt={project.title}
              />
              <h3 className="mt-6 tracking-tight text-amber-300 font-overpass text-lg/8">
                {project.title}
              </h3>
              <p className="text-gray-200 font-merriweather text-base/7">
                {project.subtitle}
              </p>

              <ul role="list" className="flex mt-6 gap-x-6">
                <li>
                  <button
                    type="button"
                    className="px-3 py-1 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-500"
                    onClick={() => handleWebsiteLink(project.link)}
                  >
                    {i === 0 ? 'View Website' : 'Visit Website'}
                  </button>
                </li>
                <li>
                  <button
                    type="button"
                    className="px-3 py-1 text-sm font-semibold text-white bg-orange-700 rounded-md hover:bg-orange-600"
                    onClick={() => openModal(i)}
                  >
                    Details
                  </button>
                </li>
              </ul>
            </li>
          ))}
        </ul>
      </div>

      {/* Headless UI Modal */}
      <Transition appear show={openIndex !== null} as={Fragment}>
        <Dialog as="div" className="relative z-50" onClose={closeModal}>
          <Transition.Child
            as={Fragment}
            enter="ease-out duration-300"
            enterFrom="opacity-0"
            enterTo="opacity-100"
            leave="ease-in duration-200"
            leaveFrom="opacity-100"
            leaveTo="opacity-0"
          >
            {/* Backdrop */}
            <div className="fixed inset-0 bg-black bg-opacity-25" />
          </Transition.Child>

          <div className="fixed inset-0 overflow-y-auto">
            <div className="flex items-center justify-center min-h-full p-4 text-center">
              <Transition.Child
                as={Fragment}
                enter="ease-out duration-300"
                enterFrom="opacity-0 scale-95"
                enterTo="opacity-100 scale-100"
                leave="ease-in duration-200"
                leaveFrom="opacity-100 scale-100"
                leaveTo="opacity-0 scale-95"
              >
                <Dialog.Panel className="w-full max-w-2xl p-6 overflow-hidden text-left align-middle transition-all transform bg-gray-800 shadow-xl rounded-2xl">
                  {openIndex !== null && (
                    <>
                      <Dialog.Title
                        as="h3"
                        className="text-lg font-medium leading-6 text-amber-400"
                      >
                        {projects[openIndex].title}
                      </Dialog.Title>
                      <div className="mt-2 text-gray-200">
                        <p>{projects[openIndex].subtitle}</p>
                      </div>
                      <div className="mt-4">
                        <img
                          src={projects[openIndex].image}
                          alt={projects[openIndex].title}
                          className="border border-gray-600 rounded-md"
                        />
                      </div>
                      <div className="mt-4 text-sm text-gray-300 font-merriweather">
                        <p>{projects[openIndex].bodyCopy}</p>
                      </div>
                    </>
                  )}
                  <div className="flex justify-end mt-6">
                    <button
                      type="button"
                      className="px-4 py-2 text-sm font-semibold text-white rounded-md bg-sky-600 hover:bg-sky-500"
                      onClick={closeModal}
                    >
                      Close
                    </button>
                  </div>
                </Dialog.Panel>
              </Transition.Child>
            </div>
          </div>
        </Dialog>
      </Transition>
    </div>
  );
}
```
Astro Islands ensures you only load React where necessary, keeping the rest of your site statically rendered and fast. Our plan is to keep data local for now, but we can switch to a CMS later if we want. This Headless UI–powered approach means we get interactive dialogs with minimal overhead.

<Image src={require('./07-headlessui.png')} alt="Headless UI home page. A great place for templates that provide page functionality." />

## 8. Set up a Contact Form with Netlify Forms

Netlify makes it incredibly easy to handle form submissions without running your own backend code. By adding a few attributes to a simple HTML `<form>`, Netlify will detect submissions and store them under your site’s “Forms” tab in the Netlify dashboard.

Here’s an example of a basic contact form in an Astro component or page:

```html
---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <section class="py-8 text-gray-100 bg-gray-900">
    <div class="container px-4 mx-auto sm:px-6 lg:px-8">
      <h2 class="text-3xl font-overpass text-amber-400">Contact Us</h2>
      <p class="mt-4 mb-8 text-gray-300">
        Have a project in mind or need more info? Drop us a line!
      </p>
      <form
        name="contact"
        method="POST"
        data-netlify="true"
        netlify-honeypot="bot-field"
        class="max-w-lg space-y-4"
      >
        <!-- Hidden field for Netlify bot detection -->
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden">
          <label>
            Don’t fill this out if you're human:
            <input name="bot-field" />
          </label>
        </p>

        <div>
          <label for="name" class="block mb-1">Name</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-3 py-2 text-gray-100 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-400"
          />
        </div>
        <div>
          <label for="email" class="block mb-1">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="w-full px-3 py-2 text-gray-100 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-400"
          />
        </div>
        <div>
          <label for="message" class="block mb-1">Message</label>
          <textarea
            id="message"
            name="message"
            rows="5"
            class="w-full px-3 py-2 text-gray-100 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-400"
          ></textarea>
        </div>
        <button
          type="submit"
          class="px-4 py-2 font-semibold text-white rounded-md bg-amber-600 hover:bg-amber-500"
        >
          Send
        </button>
      </form>
    </div>
  </section>
</Layout>
```
What Happens Next?

**a. Form Submission**

When a user fills out this form and hits “Send,” Netlify catches it and logs the submission in your site’s Forms section on Netlify.

**b. Confirmation Pages or Messages**

You can redirect users to a thank-you page or provide an inline success message. Simply add:

`<form name="contact" method="POST" action="/thank-you" data-netlify="true">`

Netlify will redirect them to /thank-you after submission.

**c. Email Notifications**

In your Netlify dashboard (Site Settings → Forms → Form Settings), you can set up email notifications or integrate Slack, Zapier, etc., for real-time submission alerts.

This “no-backend” approach is quick, reliable, and secure—perfect for Jamstack sites where you want to avoid spinning up your own server infrastructure just for contact forms.

As you have probably guessed, the project is held in GitHub.com and deployed to Netlify. If you want more on that, check out my [Development Workflow article](https://sparker888.com/articles/light-speed-4), where I cover these details.

<Image src={require('./08-contact-form.png')} alt="The contact form powered by Netlify forms on the Gravital Digital website." />

## 7. Plausible Analytics for a Cookie-Free Experience

For analytics, I embedded Plausible in my Layout.astro. It’s cookie-free and ultra-lightweight, perfect for a privacy-focused Jamstack site:
```html
<!-- Plausible script -->
<script
  defer
  data-domain="gravitaldigital.com"
  src="https://plausible.io/js/script.js"
></script>
```
No tracking cookies, no GDPR issues—and negligible performance impact. I then configured Plausible to provide traffic and campaign reports directly to my inbox every Monday.

<Image src={require('./09-plausible-layout.png')} alt="Plausible script integrated in the site layout" />

I then optimized all assets and deployed the project from GitHub to Netlify. From this point on, each commit triggers an automatic rebuild.

Running a Google Lighthouse report for desktop on the final site revealed:

-	Performance: 100
-	Accessibility: 100
-	Best Practices: 100
-	SEO: 100

Google Lighthouse showing perfect 100s across the board as you can see! ✨

<Image src={require('./09-lighthouse-perfect.png')} alt="Google Lighthouse showing perfect 100s across the board" />

## Summary

By pairing Astro 5 with Tailwindcss 4 and carefully optimizing each video/image, I built a visually appealing, informative, fast Jamstack landing page in under 100 hours that scored perfectly in Google Lighthouse tests!

Key Takeaways:
-	**Astro 5** → Great dev experience, partial hydration, SSR for speed, easy deployment.
-	**Tailwind CSS 4** → New gradient utilities, updated color palettes, faster builds.
-	**AI-based visuals** → Use AI to save time and shrink videos via HandBrake to maintain speed.
-	**Tailwind UI templates** → Speed up dev with pre-built, responsive layouts, then customize.
-	Astro `<Image>` → Automatic image optimization for near-instant loads on any device.
-	**Fonts from Fontsource** → Simple NPM import for Overpass 900, no manual `@font-face` needed.
- **Astro Islands** → Load React only where needed, e.g., Headless UI dialogs with client:load.
- **GitHub Repo & Netlify CDN** → Store the code for easy editing on GitHub and auto deploys to Netlify.
-	**Plausible** → Cookie-free analytics, minimal overhead, full privacy compliance.


## What’s Next in the Light. Speed.✨ Series?

Stay tuned for more in the Light. Speed. series—where I dig further into creating content with AI and more tips on building polished, high-performing Astro applications!

Feel free to reach out at [sparker888@gmail.com](mailto:sparker888@gmail.com), visit my [Gravital Digital](https://gravitaldigital.com/) business site, and follow me on [LinkedIn](https://www.linkedin.com/in/sparker888) and [X/Twitter](https://x.com/sparker888).
